$date
	Sun Feb 15 11:18:38 2026
$end
$version
	Icarus Verilog
$end
$timescale
	1ps
$end
$scope module tb $end
$var wire 8 ! uo_out [7:0] $end
$var wire 8 " uio_out [7:0] $end
$var wire 8 # uio_oe [7:0] $end
$var reg 1 $ clk $end
$var reg 1 % ena $end
$var reg 1 & rst_n $end
$var reg 8 ' ui_in [7:0] $end
$var reg 8 ( uio_in [7:0] $end
$scope module test_harness $end
$var wire 1 $ clk $end
$var wire 1 ) data_ready $end
$var wire 1 % ena $end
$var wire 1 & rst_n $end
$var wire 8 * ui_in [7:0] $end
$var wire 8 + uio_in [7:0] $end
$var wire 1 , user_interrupt $end
$var wire 8 - uo_out [7:0] $end
$var wire 8 . uio_out [7:0] $end
$var wire 8 / uio_oe [7:0] $end
$var wire 8 0 ui_in_sync [7:0] $end
$var wire 2 1 txn_n [1:0] $end
$var wire 1 2 spi_mosi_sync $end
$var wire 1 3 spi_mosi $end
$var wire 1 4 spi_miso $end
$var wire 1 5 spi_cs_n_sync $end
$var wire 1 6 spi_cs_n $end
$var wire 1 7 spi_clk_sync $end
$var wire 1 8 spi_clk $end
$var wire 1 9 data_valid $end
$var wire 1 : data_rw $end
$var wire 32 ; data_out [31:0] $end
$var wire 32 < data_in [31:0] $end
$var wire 6 = address [5:0] $end
$var wire 1 > addr_valid $end
$var wire 1 ? _unused $end
$var reg 32 @ data_out_masked [31:0] $end
$var reg 2 A data_read_n [1:0] $end
$var reg 2 B data_write_n [1:0] $end
$var reg 1 C rst_reg_n $end
$scope module i_spi_reg $end
$var wire 1 $ clk $end
$var wire 1 D ena $end
$var wire 6 E reg_addr [5:0] $end
$var wire 1 > reg_addr_v $end
$var wire 32 F reg_data_i [31:0] $end
$var wire 1 ) reg_data_i_dv $end
$var wire 32 G reg_data_o [31:0] $end
$var wire 1 9 reg_data_o_dv $end
$var wire 1 C rstb $end
$var wire 1 H spi_clk_neg_gated $end
$var wire 1 I spi_clk_pos_gated $end
$var wire 1 J spi_data_change $end
$var wire 1 K spi_data_sample $end
$var wire 1 2 spi_mosi $end
$var wire 1 4 spi_miso $end
$var wire 1 5 spi_cs_n $end
$var wire 1 L spi_clk_pos $end
$var wire 1 M spi_clk_neg $end
$var wire 1 7 spi_clk $end
$var wire 1 N sof $end
$var wire 1 O eof $end
$var parameter 32 P ADDR_W $end
$var parameter 32 Q REG_W $end
$var reg 6 R addr [5:0] $end
$var reg 6 S buffer_counter [5:0] $end
$var reg 1 T dv $end
$var reg 3 U next_state [2:0] $end
$var reg 1 : reg_rw $end
$var reg 1 V sample_addr $end
$var reg 1 W sample_data $end
$var reg 3 X state [2:0] $end
$var reg 1 Y tx_buffer_load $end
$var reg 32 Z txn_buffer [31:0] $end
$var reg 2 [ txn_width [1:0] $end
$scope module falling_edge_detector_sof $end
$var wire 1 $ clk $end
$var wire 1 D ena $end
$var wire 1 N neg_edge $end
$var wire 1 C rstb $end
$var wire 1 5 data $end
$var reg 1 \ data_dly $end
$upscope $end
$scope module falling_edge_detector_spi_clk $end
$var wire 1 $ clk $end
$var wire 1 D ena $end
$var wire 1 M neg_edge $end
$var wire 1 C rstb $end
$var wire 1 7 data $end
$var reg 1 ] data_dly $end
$upscope $end
$scope module rising_edge_detector_eof $end
$var wire 1 $ clk $end
$var wire 1 D ena $end
$var wire 1 O pos_edge $end
$var wire 1 C rstb $end
$var wire 1 5 data $end
$var reg 1 ^ data_dly $end
$upscope $end
$scope module rising_edge_detector_spi_clk $end
$var wire 1 $ clk $end
$var wire 1 D ena $end
$var wire 1 L pos_edge $end
$var wire 1 C rstb $end
$var wire 1 7 data $end
$var reg 1 _ data_dly $end
$upscope $end
$upscope $end
$scope module synchronizer_spi_clk_inst $end
$var wire 1 $ clk $end
$var wire 1 8 data_in $end
$var wire 1 7 data_out $end
$var parameter 32 ` STAGES $end
$var parameter 32 a WIDTH $end
$scope begin gen_reclocking[0] $end
$var parameter 2 b i $end
$scope module reclocking_i0 $end
$var wire 1 $ clk $end
$var wire 1 c data_in $end
$var wire 1 d data_out $end
$var parameter 32 e WIDTH $end
$var reg 1 f data_sync $end
$upscope $end
$upscope $end
$scope begin gen_reclocking[1] $end
$var parameter 2 g i $end
$scope module reclocking_i0 $end
$var wire 1 $ clk $end
$var wire 1 d data_in $end
$var wire 1 h data_out $end
$var parameter 32 i WIDTH $end
$var reg 1 h data_sync $end
$upscope $end
$upscope $end
$upscope $end
$scope module synchronizer_spi_cs_n_inst $end
$var wire 1 $ clk $end
$var wire 1 6 data_in $end
$var wire 1 5 data_out $end
$var parameter 32 j STAGES $end
$var parameter 32 k WIDTH $end
$scope begin gen_reclocking[0] $end
$var parameter 2 l i $end
$scope module reclocking_i0 $end
$var wire 1 $ clk $end
$var wire 1 m data_in $end
$var wire 1 n data_out $end
$var parameter 32 o WIDTH $end
$var reg 1 p data_sync $end
$upscope $end
$upscope $end
$scope begin gen_reclocking[1] $end
$var parameter 2 q i $end
$scope module reclocking_i0 $end
$var wire 1 $ clk $end
$var wire 1 n data_in $end
$var wire 1 r data_out $end
$var parameter 32 s WIDTH $end
$var reg 1 r data_sync $end
$upscope $end
$upscope $end
$upscope $end
$scope module synchronizer_spi_mosi_inst $end
$var wire 1 $ clk $end
$var wire 1 3 data_in $end
$var wire 1 2 data_out $end
$var parameter 32 t STAGES $end
$var parameter 32 u WIDTH $end
$scope begin gen_reclocking[0] $end
$var parameter 2 v i $end
$scope module reclocking_i0 $end
$var wire 1 $ clk $end
$var wire 1 w data_in $end
$var wire 1 x data_out $end
$var parameter 32 y WIDTH $end
$var reg 1 z data_sync $end
$upscope $end
$upscope $end
$scope begin gen_reclocking[1] $end
$var parameter 2 { i $end
$scope module reclocking_i0 $end
$var wire 1 $ clk $end
$var wire 1 x data_in $end
$var wire 1 | data_out $end
$var parameter 32 } WIDTH $end
$var reg 1 | data_sync $end
$upscope $end
$upscope $end
$upscope $end
$scope module synchronizer_ui_in_inst $end
$var wire 1 $ clk $end
$var wire 8 ~ data_in [7:0] $end
$var wire 8 !" data_out [7:0] $end
$var parameter 32 "" STAGES $end
$var parameter 32 #" WIDTH $end
$scope begin gen_reclocking[0] $end
$var parameter 2 $" i $end
$scope module reclocking_i0 $end
$var wire 1 $ clk $end
$var wire 8 %" data_in [7:0] $end
$var wire 8 &" data_out [7:0] $end
$var parameter 32 '" WIDTH $end
$var reg 8 (" data_sync [7:0] $end
$upscope $end
$upscope $end
$scope begin gen_reclocking[1] $end
$var parameter 2 )" i $end
$scope module reclocking_i0 $end
$var wire 1 $ clk $end
$var wire 8 *" data_in [7:0] $end
$var wire 8 +" data_out [7:0] $end
$var parameter 32 ," WIDTH $end
$var reg 8 -" data_sync [7:0] $end
$upscope $end
$upscope $end
$upscope $end
$scope module user_peripheral $end
$var wire 6 ." address [5:0] $end
$var wire 1 $ clk $end
$var wire 32 /" data_in [31:0] $end
$var wire 2 0" data_read_n [1:0] $end
$var wire 1 ) data_ready $end
$var wire 2 1" data_write_n [1:0] $end
$var wire 1 C rst_n $end
$var wire 8 2" ui_in [7:0] $end
$var wire 1 , user_interrupt $end
$var wire 8 3" uo_out [7:0] $end
$var wire 1 4" tx_busy $end
$var wire 1 5" rx_data_valid $end
$var wire 8 6" rx_data [7:0] $end
$var wire 32 7" data_out [31:0] $end
$var wire 1 8" baud_tick $end
$var wire 1 9" _unused $end
$var parameter 32 :" CLKS_PER_BIT $end
$var reg 1 , interrupt_reg $end
$var reg 1 ;" tx_valid_reg $end
$scope module i_baud_gen $end
$var wire 1 $ clk $end
$var wire 1 C rst_n $end
$var wire 1 8" baud_tick $end
$var parameter 32 <" CLKS_PER_BIT $end
$var reg 10 =" clk_cnt [9:0] $end
$upscope $end
$scope module i_uart_rx $end
$var wire 1 8" baud_tick $end
$var wire 1 $ clk $end
$var wire 1 C rst_n $end
$var wire 1 >" rx_pin $end
$var parameter 2 ?" STATE_DATA $end
$var parameter 2 @" STATE_IDLE $end
$var parameter 2 A" STATE_START $end
$var parameter 2 B" STATE_STOP $end
$var reg 3 C" bit_idx [2:0] $end
$var reg 8 D" data_out [7:0] $end
$var reg 1 5" data_valid $end
$var reg 1 E" rx_sync $end
$var reg 8 F" shift_reg [7:0] $end
$var reg 2 G" state [1:0] $end
$upscope $end
$scope module i_uart_tx $end
$var wire 1 8" baud_tick $end
$var wire 1 $ clk $end
$var wire 8 H" data_in [7:0] $end
$var wire 1 ;" data_valid $end
$var wire 1 C rst_n $end
$var parameter 2 I" STATE_DATA $end
$var parameter 2 J" STATE_IDLE $end
$var parameter 2 K" STATE_START $end
$var parameter 2 L" STATE_STOP $end
$var reg 3 M" bit_idx [2:0] $end
$var reg 1 4" busy $end
$var reg 8 N" data_buf [7:0] $end
$var reg 2 O" state [1:0] $end
$var reg 1 P" tx_pin $end
$upscope $end
$upscope $end
$upscope $end
$upscope $end
$enddefinitions $end
$comment Show the parameter values. $end
$dumpall
b11 L"
b1 K"
b0 J"
b10 I"
b11 B"
b1 A"
b0 @"
b10 ?"
b1000101011 <"
b1000101011 :"
b1000 ,"
b1 )"
b1000 '"
b0 $"
b1000 #"
b10 ""
b1 }
b1 {
b1 y
b0 v
b1 u
b10 t
b1 s
b1 q
b1 o
b0 l
b1 k
b10 j
b1 i
b1 g
b1 e
b0 b
b1 a
b10 `
b100000 Q
b110 P
$end
#0
$dumpvars
xP"
bx O"
bx N"
bx M"
bx H"
bx G"
bx F"
xE"
bx D"
bx C"
x>"
bx ="
0;"
09"
x8"
b0xxxxxxxx 7"
bx 6"
x5"
x4"
bzx 3"
bx 2"
b11 1"
b11 0"
bx /"
bx ."
bx -"
bx +"
b0 *"
b0 ("
b0 &"
b0 %"
bx !"
b0 ~
x|
0z
0x
0w
xr
0p
0n
0m
xh
0f
0d
0c
x_
x^
x]
x\
bx [
bx Z
0Y
b0 X
0W
0V
b0 U
0T
bx S
bx R
xO
xN
xM
xL
xK
xJ
xI
xH
bx G
b0xxxxxxxx F
bx E
1D
xC
b11 B
b11 A
b0xxxxxxxx @
0?
0>
bx =
bx <
b0xxxxxxxx ;
x:
09
08
x7
06
x5
04
03
x2
bx 1
bx 0
b1011 /
b1x .
bzx -
x,
b0 +
b0 *
1)
b0 (
b0 '
0&
1%
1$
b1011 #
b1x "
bzx !
$end
#50000
0J
0H
b0 @
b0 F
b0 H"
0M
0N
b0 ;
b0 7"
b11 1
b11 [
0:
b0 =
b0 E
b0 R
b0 ."
b0 S
b0 <
b0 G
b0 /"
b0 Z
0]
0_
0^
0\
b10 "
b10 .
0,
b0 F"
b0 C"
05"
b0 6"
b0 D"
b0 G"
1E"
b0 N"
b0 M"
04"
bz1 !
bz1 -
bz1 3"
1P"
b0 O"
08"
b0 ="
0C
0$
#100000
0K
0I
0L
0O
0>"
02
0|
07
0h
05
0r
b0 0
b0 !"
b0 2"
b0 +"
b0 -"
1$
#150000
0$
#200000
1$
#250000
0$
#300000
1$
#350000
0$
#400000
1$
#450000
0$
#500000
1$
#550000
0$
#600000
1$
#650000
0$
#700000
1$
#750000
0$
#800000
1$
#850000
0$
#900000
1m
16
b10000 (
b10000 +
1&
1$
#950000
1C
0$
#1000000
0E"
b1 ="
1n
1p
1$
#1050000
0$
#1100000
0m
06
1w
13
b1000000 (
b1000000 +
1O
b10 ="
15
1r
1$
#1150000
0$
#1200000
0O
1^
1\
b11 ="
0n
0p
1x
1z
1$
#1250000
0$
#1300000
b1 U
1N
b100 ="
12
1|
05
0r
1$
